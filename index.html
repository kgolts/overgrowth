<!DOCTYPE html>
<html class="no-skrollr">

<head>
    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <title>Overgrowth</title>

    <link rel="stylesheet" href="static/css/avenir.css">
    <link rel="stylesheet" href="static/css/styles.css">
    <link rel="stylesheet" href="static/css/font-awesome.min.css">
    <link rel="stylesheet" href="static/swipebox/src/css/swipebox.css">
</head>

<body>
    <!--
        We position the images fixed and therefore need to place them outside of #skrollr-body.
        We will then use data-anchor-target to displajy the correct image matching the current section (.gap element).
    -->
    <!-- reference http://read.thisispaper.com/#issue-two and file:///Users/nick/Sites/client/overgrowth/static/js/skrollr/examples/classic.html -->

    <div class="parallax-image-wrapper parallax-image-wrapper-100" data-anchor-target="#header + .gap" data-bottom-top="transform:translate3d(0px, 200%, 0px)" data-top-bottom="transform:translate3d(0px, 0%, 0px)">

        <div class="parallax-image parallax-image-100" style="background-image:url(static/img/large/10940016_v1_web.jpg)" data-anchor-target="#header + .gap" data-bottom-top="transform: translate3d(0px, -80%, 0px);" data-top-bottom="transform: translate3d(0px, 80%, 0px);"></div>
        <!--the +/-80% translation can be adjusted to control the speed difference of the image-->
    </div>

    <div class="parallax-image-wrapper parallax-image-wrapper-100" data-anchor-target="#about + .gap" data-bottom-top="transform:translate3d(0px, 200%, 0px)" data-top-bottom="transform:translate3d(0px, 0%, 0px)">

        <div class="parallax-image parallax-image-100" style="background-image:url(static/img/gallery-placeholder.jpg)" data-anchor-target="#about + .gap" data-bottom-top="transform: translate3d(0px, -80%, 0px);" data-top-bottom="transform: translate3d(0px, 80%, 0px);"></div>
        <!--the +/-80% translation can be adjusted to control the speed difference of the image-->
    </div>

    <div class="parallax-image-wrapper parallax-image-wrapper-100" data-anchor-target="#store + #exhibition" data-bottom-top="transform:translate3d(0px, 200%, 0px)" data-top-bottom="transform:translate3d(0px, 0%, 0px)">

        <div class="parallax-image parallax-image-100" style="background-image:url(static/img/flower-drum.jpg)" data-anchor-target="#store + #exhibition" data-bottom-top="transform: translate3d(0px, -80%, 0px);" data-top-bottom="transform: translate3d(0px, 80%, 0px);"></div>
        <!--the +/-80% translation can be adjusted to control the speed difference of the image-->
    </div>

    <div class="parallax-image-wrapper parallax-image-wrapper-100" data-anchor-target="#artist-statement + #kickstarter" data-bottom-top="transform:translate3d(0px, 200%, 0px)" data-top-bottom="transform:translate3d(0px, 0%, 0px)">

        <div class="parallax-image parallax-image-100" style="background-image:url(static/img/kickstarter-bg.jpg)" data-anchor-target="#artist-statement + #kickstarter" data-bottom-top="transform: translate3d(0px, -80%, 0px);" data-top-bottom="transform: translate3d(0px, 80%, 0px);"></div>
        <!--the +/-80% translation can be adjusted to control the speed difference of the image-->
    </div>


    <div id="dotted-nav" class="light">
        <ul class="nav dots">
            <li class="dot">
                <a href="#landing">
                    <i class="fa fa-circle-o"></i>
                    <i class="fa fa-circle"></i>
                </a>
            </li>
            <li class="dot">
                <a href="#about">
                    <i class="fa fa-circle-o"></i>
                    <i class="fa fa-circle"></i>
                </a>
            </li>
            <li class="dot">
                <a href="#gallery">
                    <i class="fa fa-circle-o"></i>
                    <i class="fa fa-circle"></i>
                </a>
            </li>
            <li class="dot">
                <a href="#artist-statement">
                    <i class="fa fa-circle-o"></i>
                    <i class="fa fa-circle"></i>
                </a>
            </li>
            <li class="dot">
                <a href="#kickstarter">
                    <i class="fa fa-circle-o"></i>
                    <i class="fa fa-circle"></i>
                </a>
            </li>
            <li class="dot">
                <a href="#store">
                    <i class="fa fa-circle-o"></i>
                    <i class="fa fa-circle"></i>
                </a>
            </li>
            <li class="dot">
                <a href="#exhibition">
                    <i class="fa fa-circle-o"></i>
                    <i class="fa fa-circle"></i>
                </a>
            </li>
            <li class="dot">
                <a href="#credits">
                    <i class="fa fa-circle-o"></i>
                    <i class="fa fa-circle"></i>
                </a>
            </li>
        </ul>
    </div>

    <div id="overgrowth-fixed">
        <div id="overgrowth-image" class="light"></div>
    </div>

    <div id="skrollr-body">
        <div class="header" id="header"></div>
        <section class="gap gap-100p" style="background-image:url(static/img/large/10940016_v1_web.jpg);" id="landing">
            <div id="main-nav">
                <ul class="nav nav-tabs nav-horizontal" role="tablist">
                    <li><a href="#about">Tuoba</a>
                    </li>
                    <li><a href="#gallery">Yrellag</a>
                    </li>
                    <li><a href="#artist-statement">Tnemetats Tsitra</a>
                    </li>
                    <li><a href="#kickstarter">retratskciK</a>
                    </li>
                    <li><a href="#store">Erots</a>
                    </li>
                    <li><a href="#exhibition">Noitibihxe</a>
                    </li>
                    <li><a href="#credits">stiderC</a>
                    </li>
                </ul>
            </div>
            <div id="welcome" class="top-right" data--125-center-center="opacity:0" data-100-top-bottom="opacity:1">
                <img src="static/img/welcome.png" alt="Welcome">
            </div>
            <div class="gap gap-100p" data-bottom-top="transform:translate3d(0px, -50%, 0px)" data-top-bottom="transform:translate3d(0px, 50%, 0px)">
                <div class="display-table">
                    <div class="display-table-cell">
                        <img class="" src="static/img/overgrowth.png" alt="Overgrowth" class="">
                    </div>
                </div>
            </div>
        </section>

        <section class="" id="about">
            <div class="top-right" data--125-center-center="opacity:0" data-100-top-bottom="opacity:1">
                <img src="static/img/about.png" alt="About" class="parallax-fadeout">
            </div>
            <div class="display-table">
                <div class="display-table-cell">
                    <img src="static/img/about-body.png">
                </div>
            </div>
            <div class="bottom-right" data-125-center-center="opacity:0" data--100-bottom-top="opacity:1">
                <a href="#gallery">
                    <img src="static/img/down-arrow-gray.png" alt="Next section" class="parallax-fadeout">
                </a>
            </div>
        </section>

        <section class="gap gap-100p" style="background-image:url(static/img/gallery-placeholder.jpg);" id="gallery">
            <div class="top-right" data--125-center-center="opacity:0" data-100-top-bottom="opacity:1">
                <img src="static/img/gallery.png" alt="Gallery">
            </div>
            <div class="display-table">
                <div class="display-table-cell">
                    <!-- Gallery 1 -->
                    <img src="static/img/large/11420016_v1_web.jpg" id="imagelightbox" />
                    <a rel="gallery-1" href="static/img/large/11420016_v1_web.jpg" class="main-gallery">
                        <img src="static/img/view-gallery-button.png" alt="Open gallery">
                    </a>
                    <a rel="gallery-1" href="static/img/large/11340009_v1.jpg" class="main-gallery"></a>
                    <a rel="gallery-1" href="static/img/large/11180030_v1_web.jpg" class="main-gallery"></a>
                </div>
            </div>
            <div class="middle-right hidden">
                <img src="static/img/overgrowth-vertical-white.png" alt="Overgrowth">
            </div>
            <div class="bottom-right" data-125-center-center="opacity:0" data--100-bottom-top="opacity:1">
                <a href="#artist-statement">
                    <img src="static/img/down-arrow-white.png" alt="Next section">
                </a>
            </div>
        </section>

        <section id="artist-statement">
            <div class="top-right" data--125-center-center="opacity:0" data-100-top-bottom="opacity:1">
                <img src="static/img/artist-statement.png" alt="Artist Statement">
            </div>
            <div class="middle-right hidden">
                <img src="static/img/overgrowth-gray.png" alt="Overgrowth">
            </div>
            <div class="display-table">
                <div class="display-table-cell">
                    <img src="static/img/artist-statement-body.png">
                </div>
            </div>
            <div class="bottom-right" data-125-center-center="opacity:0" data--100-bottom-top="opacity:1">
                <a href="#exhibition">
                    <img src="static/img/down-arrow-gray.png" alt="Next section">
                </a>
            </div>
        </section>

        <section class="gap gap-100p" style="background-image:url(static/img/kickstarter-bg.jpg);" id="kickstarter" class="centered">
            <div class="top-right" data--125-center-center="opacity:0" data-100-top-bottom="opacity:1">
                <img src="static/img/kickstarter.png" alt="Kickstarter">
            </div>
            <div class="middle-right">
                <a href="#view-kickstarter">
                    <img src="static/img/view-kickstarter-button.png" alt="Go to Kickstarter Campaign" style="height: 130px; margin-top: -65px;">
                </a>
            </div>
            <div class="display-table">
                <div class="display-table-cell">
                    <a href="#view-kickstarter">
                        <img src="static/img/play-button.png" alt="">
                    </a>
                </div>
            </div>
            <div class="bottom-middle">
                <a class="" href="#">Support Overgrowth</a>
            </div>
            <div class="bottom-right" data-125-center-center="opacity:0" data--100-bottom-top="opacity:1">
                <a href="#store">
                    <img src="static/img/down-arrow-white.png" alt="Next section">
                </a>
            </div>
        </section>

        <section id="store" class="centered">
            <div class="top-right" data--125-center-center="opacity:0" data-100-top-bottom="opacity:1">
                <img src="static/img/store.png" alt="Exhibition">
            </div>
            <div class="middle-right">
                <a href="#become-a-stockist">
                    <img src="static/img/become-a-stockist.png" alt="Overgrowth" style="height: 130px; margin-top: -65px;">
                </a>
            </div>
            <div class="display-table">
                <div class="display-table-cell">
                    <ul class="nav nav-store nav-horizontal">
                        <li><a href="#publication">dractsoP</a>
                        </li>
                        <li><a href="#prints">retsoP</a>
                        </li>
                        <li><a href="#poster">stnirP</a>
                        </li>
                        <li><a href="#postcard">noitacilbuP</a>
                        </li>
                    </ul>
                    <div class="product">
                        <div class="product-image">
                            <a href="static/img/overgrowth-store-default.jpg" class="main-gallery">
                                <img src="static/img/overgrowth-store-default.jpg">
                            </a>
                        </div>
                        <div class="product-details">
                            <img src="static/img/publication-details.png" alt="">
                        </div>
                        <div class="product-purchase">
                            <a class="purchase" href id="purchase">esahcruP</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="bottom-right" data-125-center-center="opacity:0" data--100-bottom-top="opacity:1">
                <a href="#exhibition">
                    <img src="static/img/down-arrow-gray.png" alt="Next section">
                </a>
            </div>
        </section>

        <section class="gap gap-100p" style="background-image:url(static/img/flower-drum.jpg);" id="exhibition">
            <div class="top-right" data--125-center-center="opacity:0" data-100-top-bottom="opacity:1">
                <img src="static/img/exhibition.png" alt="Exhibition">
            </div>
            <div class="middle-right hidden">
                <img src="static/img/overgrowth-white.png" alt="Overgrowth">
            </div>
            <div class="display-table">
                <div class="display-table-cell">
                    <img src="static/img/exhibition-body.png">
                </div>
            </div>
            <div class="bottom-right" data-125-center-center="opacity:0" data--100-bottom-top="opacity:1">
                <a href="#credits">
                    <img src="static/img/over-arrow-white-down.png" alt="Next section">
                </a>
            </div>
        </section>

        <section id="credits" class="centered">
            <div class="top-right" data--125-center-center="opacity:0" data-100-top-bottom="opacity:1">
                <img src="static/img/credits.png" alt="Exhibition">
            </div>
            <div class="middle-right hidden">
                <img src="static/img/overgrowth-white.png" alt="Overgrowth">
            </div>
            <div class="bottom-left overgrowth-small">
                <img src="static/img/credit-overgrowth-lower-leftcredits-2014.png" alt="">
            </div>
            <div class="bottom-middle">
                <a class="ben" href="http://benbiondo.com/">
                    <img src="static/img/credit-design-ben.png" alt="">
                </a>
                <img src="static/img/credit-design-michelle.png" alt="">
            </div>
            <div class="bottom-right credit">
                <img src="static/img/credit-2014.png" alt="">
            </div>
            <div class="display-table">
                <div class="display-table-cell">
                    <img class="credits-logos" src="static/img/credit-logos.png">
                    <img class="credits-text" src="static/img/credits-text.png">
                </div>
            </div>
        </section>
    </div>

    <script type="text/javascript" src="//code.jquery.com/jquery-1.11.1.min.js"></script>
    <!-- <script type="text/javascript" src="static/swipebox/src/js/jquery.swipebox.js"></script> -->
    <!-- <script type="text/javascript" src="static/fullpage/vendors/jquery.easings.min.js"></script> -->
    <script type="text/javascript" src="static/js/imagelightbox.min.js"></script>
    <script type="text/javascript" src="static/bootstrap/dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="static/js/skrollr/dist/skrollr.min.js"></script>
    <script type="text/javascript" src="static/js/skrollr-menu/dist/skrollr.menu.min.js"></script>
    <script type="text/javascript" src="static/js/skrollr-pages.js"></script>
    <script src="https://checkout.stripe.com/checkout.js"></script>
    <script type="text/javascript">
    $(function() {
        $('body').scrollspy({
            target: '#dotted-nav',
            offset: 300
        });
        $('body').scroll(function(scrolling) {
            console.log(scrolling);
            $('.top-right').css("display", "none");
        });
        $('#dotted-nav').on('activate.bs.scrollspy', function() {
            var active = $('#dotted-nav').find(".active > a").attr('href');
            if (active == "#about" || active == "#artist-statement" || active == "#store") {
                $('#dotted-nav').removeClass('light').addClass('dark');
                $('#overgrowth-image').removeClass('light').addClass('dark');
            } else {
                $('#dotted-nav').removeClass('dark').addClass('light');
                $('#overgrowth-image').removeClass('dark').addClass('light');
            }
            if (active == "#store" || active == "#kickstarter") {
                $('#overgrowth-image').css('opacity', 0);
            } else {
                $('#overgrowth-image').css('opacity', 1);
            }
            // console.log(active);
        });
        // $('.swipebox').swipebox();

        $('#main-nav, #dotted-nav, #welcome, #overgrowth-fixed').css('opacity', '1.00');

        var s = skrollr.init({
            mobileDeceleration: 0.004,
            smoothScrolling: false
        });
        skrollr.menu.init(s, {
            //skrollr will smoothly animate to the new position using `animateTo`.
            animate: true,

            //The easing function to use.
            easing: 'sqrt',

            //Multiply your data-[offset] values so they match those set in skrollr.init
            scale: 2,

            //How long the animation should take in ms.
            duration: function(currentTop, targetTop) {
                //By default, the duration is hardcoded at 500ms.
                return 500;

                //But you could calculate a value based on the current scroll position (`currentTop`) and the target scroll position (`targetTop`).
                //return Math.abs(currentTop - targetTop) * 10;
            }
        });
        var handler = StripeCheckout.configure({
            key: 'pk_test_4O1woQIrDngFxcp9btGjkFiL',
            image: 'static/img/girl-face-square.jpg',
            token: function(token) {
            // Use the token to create the charge with a server-side script.
            // You can access the token ID with `token.id`
            }
        });

        $('#purchase').click(function(e) {
            // Open Checkout with further options
            handler.open({
              name: 'Overgrowth',
              description: 'Publication ($35.00)',
              amount: 3500,
              address: true
            });
            e.preventDefault();
            });
        });


        var activityIndicatorOn = function()
            {
                $( '<div id="imagelightbox-loading"><div></div></div>' ).appendTo( 'body' );
            },
            activityIndicatorOff = function()
            {
                $( '#imagelightbox-loading' ).remove();
            },

            overlayOn = function()
            {
                $( '<div id="imagelightbox-overlay"></div>' ).appendTo( 'body' );
            },
            overlayOff = function()
            {
                $( '#imagelightbox-overlay' ).remove();
            },

            closeButtonOn = function( instance )
            {
                $( '<a href="#" id="imagelightbox-close">Close</a>' ).appendTo( 'body' ).on( 'click touchend', function(){ $( this ).remove(); instance.quitImageLightbox(); return false; });
            },
            closeButtonOff = function()
            {
                $( '#imagelightbox-close' ).remove();
            },

            captionOn = function()
            {
                var description = $( 'a[href="' + $( '#imagelightbox' ).attr( 'src' ) + '"] img' ).attr( 'alt' );
                if( description.length > 0 )
                    $( '<div id="imagelightbox-caption">' + description + '</div>' ).appendTo( 'body' );
            },
            captionOff = function()
            {
                $( '#imagelightbox-caption' ).remove();
            },

            navigationOn = function( instance, selector )
            {
                var images = $( selector );
                if( images.length )
                {
                    var nav = $( '<div id="imagelightbox-nav"></div>' );
                    for( var i = 0; i < images.length; i++ )
                        nav.append( '<a href="#"></a>' );

                    nav.appendTo( 'body' );
                    nav.on( 'click touchend', function(){ return false; });

                    var navItems = nav.find( 'a' );
                    navItems.on( 'click touchend', function()
                    {
                        var $this = $( this );
                        if( images.eq( $this.index() ).attr( 'href' ) != $( '#imagelightbox' ).attr( 'src' ) )
                            instance.switchImageLightbox( $this.index() );

                        navItems.removeClass( 'active' );
                        navItems.eq( $this.index() ).addClass( 'active' );

                        return false;
                    })
                    .on( 'touchend', function(){ return false; });
                }
            },
            navigationUpdate = function( selector )
            {
                var items = $( '#imagelightbox-nav a' );
                items.removeClass( 'active' );
                items.eq( $( selector ).filter( '[href="' + $( '#imagelightbox' ).attr( 'src' ) + '"]' ).index( selector ) ).addClass( 'active' );
            },
            navigationOff = function()
            {
                $( '#imagelightbox-nav' ).remove();
            };


        // //  WITH ACTIVITY INDICATION

        // $( 'a[data-imagelightbox="a"]' ).imageLightbox(
        // {
        //     onLoadStart:    function() { activityIndicatorOn(); },
        //     onLoadEnd:      function() { activityIndicatorOff(); },
        //     onEnd:          function() { activityIndicatorOff(); }
        // });


        //  WITH OVERLAY & ACTIVITY INDICATION

        $( '.main-gallery' ).imageLightbox(
        {
            onStart:     function() { overlayOn(); },
            onEnd:       function() { overlayOff(); activityIndicatorOff(); },
            onLoadStart: function() { activityIndicatorOn(); },
            onLoadEnd:   function() { activityIndicatorOff(); }
        });


        $( '.store-gallery' ).imageLightbox(
        {
            onStart:     function() { overlayOn(); },
            onEnd:       function() { overlayOff(); activityIndicatorOff(); },
            onLoadStart: function() { activityIndicatorOn(); },
            onLoadEnd:   function() { activityIndicatorOff(); }
        });


        //  WITH "CLOSE" BUTTON & ACTIVITY INDICATION

        // var instanceC = $( 'a[data-imagelightbox="c"]' ).imageLightbox(
        // {
        //     quitOnDocClick: false,
        //     onStart:        function() { closeButtonOn( instanceC ); },
        //     onEnd:          function() { closeButtonOff(); activityIndicatorOff(); },
        //     onLoadStart:    function() { activityIndicatorOn(); },
        //     onLoadEnd:      function() { activityIndicatorOff(); }
        // });


        // //  WITH CAPTION & ACTIVITY INDICATION

        // $( 'a[data-imagelightbox="d"]' ).imageLightbox(
        // {
        //     onLoadStart: function() { captionOff(); activityIndicatorOn(); },
        //     onLoadEnd:   function() { captionOn(); activityIndicatorOff(); },
        //     onEnd:       function() { captionOff(); activityIndicatorOff(); }
        // });


        // //  WITH DIRECTION REFERENCE

        // var selectorE = 'a[data-imagelightbox="e"]';
        // var instanceE = $( selectorE ).imageLightbox(
        // {
        //     onStart:     function() { navigationOn( instanceE, selectorE ); },
        //     onEnd:       function() { navigationOff(); activityIndicatorOff(); },
        //     onLoadStart: function() { activityIndicatorOn(); },
        //     onLoadEnd:   function() { navigationUpdate( selectorE ); activityIndicatorOff(); }
        // });


        // //  ALL COMBINED

        // var instanceF = $( 'a[data-imagelightbox="f"]' ).imageLightbox(
        // {
        //     onStart:        function() { overlayOn(); closeButtonOn( instanceF ); },
        //     onEnd:          function() { overlayOff(); captionOff(); closeButtonOff(); activityIndicatorOff(); },
        //     onLoadStart:    function() { captionOff(); activityIndicatorOn(); },
        //     onLoadEnd:      function() { captionOn(); activityIndicatorOff(); }
        // });
    </script>
</body>

</html>
